@using Microsoft.AspNetCore.Identity

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <form asp-area="Identity" asp-page="/Account/Manage/Index" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = ""})" method="post" id="logoutForm" class="navbar-right">
        <ul class="nav navbar-nav">
            <li class="dropdown messages-menu">
                <a asp-area="" class="dropdown-toggle" data-toggle="dropdown">
                    <small class="label label-success">4</small><br>
                    <i class="glyphicon glyphicon-envelope"></i>
                </a>
                <ul class="dropdown-menu">
                    <li class="header">You have 4 messages</li>
                    <ul class="menu">
                        <li>
                            <a asp-area="">
                                <div class="pull-left">
                                    <img src="~/images/imgUser/user.jpg" class="img-circle" alt="User Image" align="middle" width="30" height="30">
                                </div>
                                <h4>
                                    Support Team<small><i class="glyphicon glyphicon-eye-open"></i> 5 mins</small>
                                </h4>
                                <p>Why not buy a new awesome theme?</p>
                            </a>
                        </li>
                    </ul>
                    <li class="footer"><a asp-area="">See All Messages</a></li>
                </ul>
            </li>

            <li class="dropdown user user-menu">
                <a asp-area="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                    <img src="~/images/imgUser/user.jpg" class="img-circle" alt="User Image" align="middle" width="30" height="30">
                    <span class="hidden-xs"></span>
                </a>
                <ul class="dropdown-menu">
                    <li class="user-header">
                        <img src="~/images/imgUser/user.jpg" class="img-circle" alt="User Image" align="middle" width="128" height="128">
                        <p>
                            <small><a asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">@UserManager.GetUserName(User)</a></small>
                        </p>
                    </li>
                    <li class="user-body">
                        <div class="user-body">
                            <div class="col-xs-4 text-center">
                                <a asp-area="">Task</a>
                            </div>
                            <div class="col-xs-4 text-center">
                                <a asp-area="">Point</a>
                            </div>
                            <div class="col-xs-4 text-center">
                                <a asp-area="">Score</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </li>
            <li class="dropdown user user-menu">
                <a asp-area="Identity" asp-page="/Account/Logout" class="btn btn-link">Logout</a>
            </li>
        </ul>
    </form>
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li><a asp-area="Identity" asp-page="/Account/Register">Register</a></li>
        <li><a asp-area="Identity" asp-page="/Account/Login">Login</a></li>
    </ul>
}